{"version":3,"file":"\/Users\/jason\/work\/github_workspace\/proto-repl\/proto-repl-client-cljs\/..\/lib\/proto_repl\/fipp\/engine.js","sources":["engine.cljc"],"lineCount":498,"mappings":"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","names":["method-table__8957__auto__","cljs.core\/atom","prefer-table__8958__auto__","method-cache__8959__auto__","cached-hierarchy__8960__auto__","hierarchy__8961__auto__","cljs.core\/get","cljs.core\/get-global-hierarchy","cljs.core\/MultiFn","cljs.core\/symbol","fipp.engine\/serialize-node","cljs.core\/first","fipp.engine\/serialize","doc","cljs.core\/seq?","cljs.core\/mapcat","serialize","cljs.core\/Keyword","cljs.core\/vector?","cljs.core\/ex-info","cljs.core\/-add-method","p__11461","vec__11462","cljs.core\/nth","cljs.core\/nthnext","_","text","cljs.core\/apply","cljs.core\/str","p__11463","vec__11464","p__11465","vec__11466","js\/Error","cljs.core\/pr-str","p__11467","vec__11468","children","p__11469","vec__11470","inline","or__8044__auto__","p__11474","vec__11475","cljs.core\/concat","p__11476","vec__11477","offset","p__11478","vec__11479","args","vec__11480","cljs.core\/cons","fipp.engine\/annotate-rights","rf","pos","cljs.core\/volatile!","res","node","delta","G__11482","cljs.core\/count","p","cljs.core\/-vreset!","cljs.core\/-deref","cljs.core\/assoc","var_args","args__9109__auto__","len__9102__auto__","i__9103__auto__","argseq__9110__auto__","cljs.core\/IndexedSeq","fipp.engine\/update-right","seq11485","G__11486","cljs.core\/next","G__11487","deque","f","fipp.deque\/conjr","cljs.core\/pop","cljs.core\/peek","p__11491","map__11497","cljs.core\/hash-map","fipp.engine\/annotate-begins","width","options","bufs","fipp.deque\/empty","p__11499","map__11500","op","right","cljs.core\/deref","buffers","cljs.core\/empty?","cljs.core\/=","position*","buffer","cljs.core\/vreset!","fipp.deque\/create","buffers*","begin","nodes","fipp.deque\/conjlr","cljs.core\/reduce","cljs.core\/update-in","fipp.deque\/concat","buffers**","fipp.deque\/popl","res*","p__11505","map__11512","fipp.engine\/format-nodes","fits","length","tab-stops","column","p__11514","map__11515","indent","G__11517","cljs.core\/repeat","cljs.core\/conj","x__8375__auto__","y__8376__auto__","fipp.engine\/pprint-document","document","cljs.core\/merge","cljs.core\/eduction","cljs.core\/run!","cljs.core\/print","cljs.core\/println"]}